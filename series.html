<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Treehouse - BNMOVIE</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <h1>üì∫ BNMOVIE</h1>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="#">S√©ries</a>
      <a href="#">G√™neros</a>
    </nav>
  </header>

  <main class="serie-container">

    <!-- Informa√ß√µes da s√©rie -->
    <section class="serie-info">
      <img src="img/tree.jpg" alt="Capa da S√©rie" class="poster">

      <div class="detalhes">
        <h2>Treehouse</h2>
        <p class="meta"><strong>1990</strong> ‚Ä¢ 23min ‚Ä¢ <strong>Nota: 9.2/10</strong></p>

        <p class="sinopse">
          <strong>Sinopse:</strong>Treehouse of Horror √© uma s√©rie de epis√≥dios antol√≥gicos anuais com tema de Halloween da sitcom animada americana e derivada de Os Simpsons.
        </p>

        <div class="generos">
          <button>A√ß√£o</button>
          <button>Drama</button>
          <button>Suspense</button>
        </div>

        <p><strong>Diretor:</strong> Foi Uma Pessoa ai</p>
        <p><strong>Elenco:</strong> Num Sei</p>
        <p><strong>Empresa:</strong> Fox</p>
      </div>
    </section>

    <!-- Epis√≥dios -->
    <section class="episodios">
      <div class="temporada-select">
        <h3>Escolha a Temporada</h3>
        <select id="selecao-temporada" onchange="trocarTemporada()">
          <option value="1">Temporada 1</option>
          <option value="2">Temporada 2</option>
          <option value="3">Temporada 3</option>
        </select>
      </div>

      <div id="lista-episodios" class="lista-episodios">
        <!-- Os epis√≥dios ser√£o carregados dinamicamente aqui -->
      </div>

      <div id="player" class="player" style="display: none;">
        <h3 id="titulo-player">Assistindo: Epis√≥dio Selecionado</h3>
        <button id="fechar-player" onclick="fecharPlayer()" style="position:absolute;top:10px;right:10px;z-index:2;">Fechar ‚úñ</button>
        <iframe
          id="iframe-player"
          width="100%" height="260"
          scrolling="no"
          src=""
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </section>

  </main>

  <!-- Script do player -->
  <script>
    // Dados dos epis√≥dios por temporada
    const episodiosPorTemporada = {
      1: [
        { titulo: "üì∫ TreeHouse Horror I", id: "1Dd9_LTwCOlOzZtTv5lDgEFNUlLfNzhE5" },
        { titulo: "üì∫ TreeHouse Horror II", id: "1EGKeNNVgmtjTUe-_0uqOLxuEcHkmm0N6" },
        { titulo: "üì∫ TreeHouse Horror III", id: "1Fgh0ipwigf7Jlo80_lkW2aeQbPnsWv25" }
      ],
      2: [
        { titulo: "üì∫ TreeHouse Horror IV", id: "1t0_gkELtkhnruVtN9XLdrD-4A84Lalqg" },
        { titulo: "üì∫ TreeHouse Horror V", id: "1o8Fj5PWC3hSiupE40ubpVexcUf2DfUbT" },
        { titulo: "üì∫ TreeHouse Horror VI", id: "1jSqag0wPGCdEdjy7meJxJSAZZ-hG3-0S" }
      ],
      3: [
        { titulo: "üì∫ TreeHouse Horror VII", id: "1GzMXun5FyeDKopeorhU7aQWiWoq84Wac" },
        { titulo: "üì∫ TreeHouse Horror IX", id: "1H2_F0PaV_duVcDYnNLEln8LNno1SVdAj" },
        { titulo: "üì∫ TreeHouse Horror X", id: "19oxFBHnH2wavHYvCo99hFxed6-s7eAlb" }
      ]
    };

    function carregarEpisodios(temporada) {
      const listaEpisodios = document.getElementById('lista-episodios');
      listaEpisodios.innerHTML = ''; // Limpa a lista atual
      
      // Verifica se a temporada existe nos dados
      if (episodiosPorTemporada[temporada]) {
        episodiosPorTemporada[temporada].forEach(episodio => {
          const divEpisodio = document.createElement('div');
          divEpisodio.className = 'episodio';
          
          divEpisodio.innerHTML = `
            <span>${episodio.titulo}</span>
            <button onclick="abrirPlayer(this)" data-id="${episodio.id}">Assistir</button>
          `;
          
          listaEpisodios.appendChild(divEpisodio);
        });
      } else {
        listaEpisodios.innerHTML = '<p>Nenhum epis√≥dio dispon√≠vel para esta temporada.</p>';
      }
    }

    function abrirPlayer(botao) {
      const id = botao.getAttribute('data-id');
      const titulo = botao.parentElement.querySelector('span').innerText;

      const iframe = document.getElementById('iframe-player');
      const player = document.getElementById('player');
      const tituloPlayer = document.getElementById('titulo-player');

      iframe.src = `https://drivewebplayer.blogspot.com/?id=${id}`;
      tituloPlayer.innerText = 'Assistindo: ' + titulo;

      player.style.display = 'block';
      player.scrollIntoView({ behavior: 'smooth' });
    }

    function fecharPlayer() {
      const player = document.getElementById('player');
      const iframe = document.getElementById('iframe-player');
      player.style.display = 'none';
      iframe.src = '';
    }

    function trocarTemporada() {
      const temporada = document.getElementById('selecao-temporada').value;
      carregarEpisodios(temporada);
    }

    // Carrega os epis√≥dios da primeira temporada ao carregar a p√°gina
    window.onload = function() {
      document.getElementById('selecao-temporada').value = '1';
      carregarEpisodios('1');
    };
  </script>

</body>
</html>
