<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Treehouse - BNMOVIE</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <h1>ðŸ“º BNMOVIE</h1>
    <nav>
      <a href="index.html">InÃ­cio</a>
      <a href="#">SÃ©ries</a>
      <a href="#">GÃªneros</a>
    </nav>
  </header>

  <main class="serie-container">

    <!-- InformaÃ§Ãµes da sÃ©rie -->
    <section class="serie-info">
      <img src="img/tree.jpg" alt="Capa da SÃ©rie" class="poster">

      <div class="detalhes">
        <h2>Treehouse</h2>
        <p class="meta"><strong>1990</strong> â€¢ 23min â€¢ <strong>Nota: 9.2/10</strong></p>

        <p class="sinopse">
          <strong>Sinopse:</strong>Treehouse of Horror Ã© uma sÃ©rie de episÃ³dios antolÃ³gicos anuais com tema de Halloween da sitcom animada americana e derivada de Os Simpsons.
        </p>

        <div class="generos">
          <button>AÃ§Ã£o</button>
          <button>Drama</button>
          <button>Suspense</button>
        </div>

        <p><strong>Diretor:</strong> Foi Uma Pessoa ai</p>
        <p><strong>Elenco:</strong> Num Sei</p>
        <p><strong>Empresa:</strong> Fox</p>
      </div>
    </section>

    <!-- EpisÃ³dios -->
    <section class="episodios">
      <div class="temporada-select">
        <h3>Escolha a Temporada</h3>
        <select id="selecao-temporada" onchange="trocarTemporada()">
          <option value="1">Temporada 1</option>
          <option value="2">Temporada 2 (NÃƒO TEM)</option>
        </select>
      </div>

      <div id="lista-episodios" class="lista-episodios">
        <div class="episodio">
          <span>ðŸ“º TreeHouse Horror I</span>
          <button onclick="abrirPlayer(this)" data-id="1Dd9_LTwCOlOzZtTv5lDgEFNUlLfNzhE5">Assistir</button>
        </div>
        <div class="episodio">
          <span>ðŸ“º TreeHouse Horror II</span>
          <button onclick="abrirPlayer(this)" data-id="1EGKeNNVgmtjTUe-_0uqOLxuEcHkmm0N6">Assistir</button>
        </div>
        <div class="episodio">
          <span>ðŸ“º TreeHouse Horror III</span>
          <button onclick="abrirPlayer(this)" data-id="1Fgh0ipwigf7Jlo80_lkW2aeQbPnsWv25">Assistir</button>
        </div>
      </div>

      <div id="player" class="player" style="display: none;">
        <h3 id="titulo-player">Assistindo: EpisÃ³dio Selecionado</h3>
        <button id="fechar-player" onclick="fecharPlayer()" style="position:absolute;top:10px;right:10px;z-index:2;">Fechar âœ–</button>
        <iframe
          id="iframe-player"
          width="100%" height="260"
          scrolling="no"
          src=""
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </section>

  </main>

  <!-- Script do player -->
  <script>
    function abrirPlayer(botao) {
      const id = botao.getAttribute('data-id');
      const titulo = botao.parentElement.querySelector('span').innerText;

      const iframe = document.getElementById('iframe-player');
      const player = document.getElementById('player');
      const tituloPlayer = document.getElementById('titulo-player');

      iframe.src = `https://drivewebplayer.blogspot.com/?id=${id}`;
      tituloPlayer.innerText = 'Assistindo: ' + titulo;

      player.style.display = 'block';
      player.scrollIntoView({ behavior: 'smooth' });
    }

    function fecharPlayer() {
      const player = document.getElementById('player');
      const iframe = document.getElementById('iframe-player');
      player.style.display = 'none';
      iframe.src = '';
    }

    function trocarTemporada() {
      const temporada = document.getElementById('selecao-temporada').value;
      const lista = document.getElementById('lista-episodios');
      const player = document.getElementById('player');

      if (temporada === '2') {
        lista.style.display = 'none';
        player.style.display = 'none';
      } else {
        lista.style.display = 'flex';
      }
    }

    window.onload = trocarTemporada;
  </script>

</body>
</html>
