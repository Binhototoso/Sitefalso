<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S√©rie - BNMOVIE</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üì∫ BNMOVIE</h1>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="#">S√©ries</a>
      <a href="#">G√™neros</a>
    </nav>
  </header>

  <main class="serie-container">
    <section class="serie-info">
      <img src="img/tree.jpg" alt="Capa da S√©rie" class="poster" id="serie-poster">

      <div class="detalhes">
        <h2 id="serie-titulo">Treehouse</h2>
        <p class="meta" id="serie-meta"><strong>1990</strong> ‚Ä¢ 23min ‚Ä¢ <strong>Nota: 9.2/10</strong></p>

        <p class="sinopse" id="serie-sinopse">
          <strong>Sinopse:</strong> Treehouse of Horror √© uma s√©rie de epis√≥dios antol√≥gicos anuais com tema de Halloween da sitcom animada americana e derivada de Os Simpsons.
        </p>

        <div class="generos" id="serie-generos">
          <button>A√ß√£o</button>
          <button>Drama</button>
          <button>Suspense</button>
        </div>

        <p id="serie-diretor"><strong>Diretor:</strong> Foi Uma Pessoa ai</p>
        <p id="serie-elenco"><strong>Elenco:</strong> Num Sei</p>
        <p id="serie-empresa"><strong>Empresa:</strong> Fox</p>
      </div>
    </section>

    <section class="episodios">
      <div class="temporada-select">
        <h3>Escolha a Temporada</h3>
        <select id="selecao-temporada" onchange="trocarTemporada()">
          <option value="1">Temporada 1</option>
          <option value="2">Temporada 2</option>
        </select>
      </div>

      <div id="lista-episodios" class="lista-episodios">
        <!-- Epis√≥dios ser√£o carregados dinamicamente -->
      </div>

      <div id="player" class="player" style="display: none;">
        <h3 id="titulo-player">Assistindo: Epis√≥dio Selecionado</h3>
        <button id="fechar-player" onclick="fecharPlayer()">Fechar ‚úñ</button>
        <iframe
          id="iframe-player"
          width="100%" height="400"
          src=""
          frameborder="0"
          allowfullscreen>
        </iframe>
      </div>
    </section>
  </main>

  <script>
    // Fun√ß√£o para obter par√¢metros da URL
    function getUrlParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        titulo: params.get('titulo') || 'S√©rie Desconhecida',
        ano: params.get('ano') || 'Ano Desconhecido',
        nota: params.get('nota') || '0.0',
        img: params.get('img') || 'tree.jpg',
        sinopse: params.get('sinopse') || 'Sinopse n√£o dispon√≠vel.',
        diretor: params.get('diretor') || 'Diretor desconhecido',
        elenco: params.get('elenco') || 'Elenco desconhecido',
        empresa: params.get('empresa') || 'Empresa desconhecida',
        generos: params.get('generos') ? params.get('generos').split(',') : ['G√™nero desconhecido']
      };
    }

    // Carrega os dados da s√©rie
    function carregarDadosSerie() {
      const dados = getUrlParams();
      
      // Atualiza a p√°gina com os dados
      document.title = `${dados.titulo} - BNMOVIE`;
      document.getElementById('serie-poster').src = `img/${dados.img}`;
      document.getElementById('serie-poster').alt = `Capa de ${dados.titulo}`;
      document.getElementById('serie-titulo').textContent = dados.titulo;
      document.getElementById('serie-meta').innerHTML = `<strong>${dados.ano}</strong> ‚Ä¢ 23min ‚Ä¢ <strong>Nota: ${dados.nota}/10</strong>`;
      document.getElementById('serie-sinopse').innerHTML = `<strong>Sinopse:</strong> ${dados.sinopse}`;
      document.getElementById('serie-diretor').innerHTML = `<strong>Diretor:</strong> ${dados.diretor}`;
      document.getElementById('serie-elenco').innerHTML = `<strong>Elenco:</strong> ${dados.elenco}`;
      document.getElementById('serie-empresa').innerHTML = `<strong>Empresa:</strong> ${dados.empresa}`;
      
      // Atualiza g√™neros
      const generosContainer = document.getElementById('serie-generos');
      generosContainer.innerHTML = '';
      dados.generos.forEach(genero => {
        generosContainer.innerHTML += `<button>${genero}</button>`;
      });

      // Carrega epis√≥dios (simula√ß√£o)
      carregarEpisodios(dados.titulo);
    }

    // Simula carregamento de epis√≥dios
    function carregarEpisodios(serie) {
      const lista = document.getElementById('lista-episodios');
      lista.innerHTML = '';
      
      // Exemplo b√°sico - na pr√°tica, voc√™ teria dados reais
      for (let i = 1; i <= 3; i++) {
        lista.innerHTML += `
          <div class="episodio">
            <span>üì∫ ${serie} - Epis√≥dio ${i}</span>
            <button onclick="abrirPlayer(this)" data-id="EP${i}_${serie.replace(/\s+/g, '')}">Assistir</button>
          </div>
        `;
      }
    }

    // Fun√ß√µes do player
    function abrirPlayer(botao) {
      const id = botao.getAttribute('data-id');
      const titulo = botao.parentElement.querySelector('span').textContent;
      const iframe = document.getElementById('iframe-player');
      const player = document.getElementById('player');
      
      document.getElementById('titulo-player').textContent = `Assistindo: ${titulo}`;
      iframe.src = `https://drivewebplayer.blogspot.com/?id=${id}`;
      player.style.display = 'block';
      player.scrollIntoView({ behavior: 'smooth' });
    }

    function fecharPlayer() {
      document.getElementById('iframe-player').src = '';
      document.getElementById('player').style.display = 'none';
    }

    function trocarTemporada() {
      const temporada = document.getElementById('selecao-temporada').value;
      // Aqui voc√™ carregaria os epis√≥dios da temporada selecionada
      console.log(`Temporada ${temporada} selecionada`);
    }

    // Carrega os dados quando a p√°gina √© aberta
    window.onload = function() {
      carregarDadosSerie();
    };
  </script>
</body>
</html>
